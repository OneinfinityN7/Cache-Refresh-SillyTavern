<!-- 
  Cache Refresher Settings Panel
  This template is loaded into the SillyTavern extensions settings panel
-->
<div class="cache_refresher_settings">
    <div class="inline-drawer">
        <!-- Header/Toggle for the settings panel -->
        <div class="inline-drawer-toggle inline-drawer-header">
            <b data-i18n="Cache Refresher">Cache Refresher</b>
            <div class="inline-drawer-icon fa-solid fa-circle-chevron-down down"></div>
        </div>

        <!-- Settings panel content -->
        <div class="inline-drawer-content">
            <!-- Main toggle switches -->
            <div class="flex-container">
                <input type="checkbox" id="cache_refresher_enabled">
                <span data-i18n="Enable Cache Refresher">Enable Cache Refresher</span>
            </div>
            
            <div class="flex-container" title="Show notifications when cache is refreshed">
                <input type="checkbox" id="cache_refresher_show_notifications" checked>
                <span data-i18n="Show Notifications">Show Notifications</span>
            </div>
            
            <div class="flex-container" title="Show floating status indicator with refresh countdown">
                <input type="checkbox" id="cache_refresher_show_status_indicator" checked>
                <span data-i18n="Show Status Indicator">Show Status Indicator</span>
            </div>
            
            <div class="flex-container" title="Use truncated messages for cache refreshing">
                <input type="checkbox" id="cache_refresher_use_truncation" checked>
                <span data-i18n="Use Truncated Messages">Use Truncated Messages</span>
            </div>

            <hr>

            <!-- Numeric settings -->
            <div class="flex-container flexFlowColumn" title="Maximum number of cache refreshes to perform">
                <label for="cache_refresher_max_refreshes" data-i18n="Maximum Refreshes">
                    Maximum Refreshes
                </label>
                <div class="flex-container">
                    <input id="cache_refresher_max_refreshes" class="text_pole flex1 wide100p" type="number" min="1" max="20" value="3">
                </div>
                
                <!-- Refresh interval setting -->
                <div class="cache-refresher-setting-item">
                    <label for="cache_refresher_interval" title="Interval between cache refreshes in minutes">
                        <span>Refresh Interval (minutes)</span>
                        <input type="number" id="cache_refresher_interval" name="cache_refresher_interval" min="0.5" max="10" step="0.1" class="text_pole textarea_compact">
                    </label>
                </div>
                
                <!-- Maximum tokens setting -->
                <div class="cache-refresher-setting-item">
                    <label for="cache_refresher_max_tokens" title="Maximum tokens to request for cache refresh">
                        <span>Maximum Tokens</span>
                        <input type="number" id="cache_refresher_max_tokens" name="cache_refresher_max_tokens" min="1" max="4096" class="text_pole textarea_compact">
                    </label>
                </div>
                
                <!-- Caching depth setting -->
                <div class="cache-refresher-setting-item">
                    <label for="cache_refresher_caching_depth" title="Depth of conversation history to keep when truncating">
                        <span>Caching Depth</span>
                        <input type="number" id="cache_refresher_caching_depth" name="cache_refresher_caching_depth" min="1" max="10" class="text_pole textarea_compact">
                    </label>
                </div>
            </div>
            <hr>

            <!-- Status display -->
            <div class="flex-container flexFlowColumn">
                <div class="flex-container">
                    <span>Status: </span>
                    <span id="cache_refresher_status_text">Inactive</span>
                </div>
            </div>
            
            <!-- Add bottom margin for spacing -->
            <div style="margin-bottom: 8px;"></div>
        </div>
    </div>
</div>
